/* ===========================================================================
 *  AUTO-GENERATED FILE - DO NOT EDIT unless you know what you're doing!!
 *  ---------------------------------------------------------------------------
 *  Generated by : page_gen.py
 *  Timestamp    : 2025-11-19 23:28:31 Local
 *  File         : app_page_map.h
 *  This file contains page metadata for code paging system.
 * ===========================================================================
 */
#pragma once
#include <stdint.h>
#include <stddef.h>

#define APP_PAGE_SIZE 4096
#define APP_PAGE_COUNT 29
#define APP_BINARY_SIZE 115560

// Page metadata structure
typedef struct {
  uint32_t page_id;
  uint32_t flash_offset;  // Offset in raw_data[] array
  uint32_t size;          // Page size in bytes
  uint32_t sram_addr;     // Target SRAM address (0x20030000 + offset)
  uint16_t section_id;    // Section identifier
} AppPageInfo;

// Page map - maps page IDs to flash offsets and sizes
extern const AppPageInfo app_page_map[APP_PAGE_COUNT];

// Get page info by ID
static inline const AppPageInfo* app_get_page_info(uint32_t page_id) {
  if (page_id >= APP_PAGE_COUNT) return NULL;
  return &app_page_map[page_id];
}

// Find page containing an address
static inline const AppPageInfo* app_find_page(uint32_t addr) {
  for (uint32_t i = 0; i < APP_PAGE_COUNT; i++) {
    const AppPageInfo* page = &app_page_map[i];
    if (addr >= page->sram_addr && addr < page->sram_addr + page->size) {
      return page;
    }
  }
  return NULL;
}
